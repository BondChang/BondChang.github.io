
<!DOCTYPE html>
<html>
<head lang="en">
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
<meta name="format-detection"content="telephone=no">
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black" />
<title>保卫钓鱼岛</title>
<link href="css/protect_dyd.css" rel="stylesheet" type="text/css">
</head>
<body>

<div class="gaming">
    <div class="island"></div>

    <div class="alljpboat">

    </div>

    <div class="dyd_data">
        <div class="data_left"><span><img src="img/0.png"></span></div>
        <div class="data_right"><span><img src="img/6.png"><img src="img/0.png"></span></div>
    </div>
    <div class="perimeter"><img src="img/line_02.png" /></div>

    <div class="boat"></div>
    <div class="tip"><img src="img/gaming_09.png" /></div>
</div>


<div class="fail" style="display: none;">
    <div class="fail_bg">
        <div class="fail-word">钓鱼岛是中国固有领土，无可争辩，任何对于钓鱼岛主权的非法要求都是妄想！</div>
        <div class="fail-img"><img class="replay" src="img/fail_07.png" /><img class="share" src="img/success4.png" /></div>
    </div>
</div>


<div class="success" style="display: none;">
    <div class="succ_bg">
        <div class="succ-word">你成功阻止了50艘想要进入钓鱼岛的日本巡逻船，粉碎了对方侵占钓鱼岛的阴谋，让全世界都知道这里是中国固有领土！</div>
        <div class="succ-img"><img class="replay" src="img/fail_07.png" /><img class="share" src="img/success4.png" /></div>
    </div>
</div>



<div class="wxshare" style="display: none;">
    <div class="shareimg"><img src="img/share3.png" /></div>
    <div class="shareother"><img src="img/cover_12.png" /></div>
    <div class="shareother"><img src="img/share6.png" /></div>
</div>



<div class="cover">
    <div class="sun"></div>
    <div class="protectdyd"></div>
    <div class="mountain"></div>
    <div class="ship1"></div>
    <div class="ship2"></div>
    <div class="ship3"></div>
    <div class="action"></div>
</div>

<div class="play_desc" style="display: none;">
    <div class="pd_bg">
        <div class="japanship"><img src="img/pd_04.png"></div>
        <div class="chinaship"><img src="img/pd_10.png"></div>
        <div class="pd_word">拖动船只进行左右移动，阻拦日本船只进入钓鱼岛~</div>
        <div class="start"><img src="img/pd_06.png"></div>
    </div>
</div>

<div class="preface">
    <div class="pf_timeline">
        <article>
            <section class="">
                <span class="point-time"></span>
                <aside class="pf_time">2012.1.29</aside>
                <aside class="pf_word"><p>日本政府为钓鱼岛附属岛屿完成暂命名</p></aside>
            </section>
            <section class="">
                <span class="point-time"></span>
                <aside class="pf_time">2012.8.19</aside>
                <aside class="pf_word"><p>多名日本人登上钓鱼岛，称准备爬到钓鱼岛最高点，插上日本国旗</p></aside>
            </section>
            <section class="">
                <span class="point-time"></span>
                <aside class="pf_time">2015.7.29</aside>
                <aside class="pf_word"><p>日方海保巡逻船向中方船只喊话“离开日本领海”</p></aside>
            </section>
        </article>
        <article><i class="bd_left"></i><p class="">钓鱼岛及其领海为我国领土，而直至今日，日本依旧虎视眈眈。</p><i class="bd_right"></i></article>
    </div>
    <div class="swipe_up"><img src="img/qy_03.png" /></div>
</div>


<div id="loading">
    <div class="jindu">
        <div class="zidan clearfix" style="width: 35%;"><img src="img/cover_12.png" /></div>
        <div class="line_go"><span style="width: 0%;"></span></div>
        <div class="percent">海上执法船正在驶向钓鱼岛，<br />请耐心等待...<span>0%</span></div>
    </div>
    <div class="logo"><img src="img/logo_03.png" /></div>
</div>



<script type="text/javascript" src="js/zepto.min.js"></script>
<script type="text/javascript" src="js/touch.js"></script>
<script type="text/javascript">

var shareData;
shareData = {
    title: "伙伴们，快来和我一起保卫钓鱼岛！",
    desc: "钓鱼岛是中国固有领土，无可争辩，任何对于钓鱼岛主权的非法要求都是妄想！",
    img: "img/dyd_fx.jpg",//分享图片
    link: "index.html"
}
//分享代码
/*$('.looknum').on("tap",function(){
shareQQNews();
});*/

var UA = function(){
    var userAgent = navigator.userAgent.toLowerCase();
    return {
        ipad: /ipad/.test(userAgent),
        iphone: /iphone/.test(userAgent),
        android: /android/.test(userAgent),
        qqnews: /qqnews/.test(userAgent),
        weixin: /micromessenger/.test(userAgent),
        qqnews_version: userAgent.match(/qqnews/i) == "qqnews" ? userAgent.split('qqnews/')[1] : ''
    };
};

function shareQQNews() {
    var ua = UA();
    switch(true){
        case ua.qqnews:
            if(window.TencentNews && window.TencentNews.setShareArticleInfo){
                window.TencentNews.setShareArticleInfo(shareData.title, shareData.desc, shareData.desc, shareData.link, shareData.img);
            }
            if(window.TencentNews && window.TencentNews.showShareMenu) {
                window.TencentNews.showShareMenu(shareData.link, shareData.title, shareData.desc, shareData.img,"news_news_wc");
            }else{
                window.TencentNews.shareFromWebView(shareData.title, shareData.desc, shareData.img);
            }
            break;
        case ua.weixin:
            var weixinLayout=document.querySelector(".weixin_layout");
            weixinLayout.style.display="block";
            weixinLayout.addEventListener("click",function(){
                weixinLayout.style.display="none";
            });
            break;
        default:
            window.location = "http://share.v.t.qq.com/index.php?c=share&a=index&appkey=801378464&url="
                    + shareData.link + "&title="
                    + shareData.desc +"&pic="
                    + shareData.img + "&des="
                    + shareData.title;
            break;
    };
}

function onBridgeReady() {

    //转发朋友圈
    WeixinJSBridge.on("menu:share:timeline", function(e) {
        var data = {
            img_width: "120",
            img_height: "120",
            img_url: shareData.img,
            link: shareData.link,   //desc这个属性要加上，虽然不会显示，但是不加暂时会导致无法转发至朋友圈，
            desc: shareData.title,
            title: shareData.desc
        };
        WeixinJSBridge.invoke("shareTimeline", data, function(res) {
            WeixinJSBridge.log(res.err_msg)
        });
    });
    //同步到微博
    WeixinJSBridge.on("menu:share:weibo", function() {
        WeixinJSBridge.invoke("shareWeibo", {
            "content": shareData.desc,
            "url": shareData.link
        }, function(res) {
            WeixinJSBridge.log(res.err_msg);
        });
    });
    //分享给朋友
    WeixinJSBridge.on('menu:share:appmessage', function(argv) {
        WeixinJSBridge.invoke("sendAppMessage", {
            img_width: "120",
            img_height: "120",
            img_url: shareData.img,
            link: shareData.link,
            desc: shareData.desc,
            title: shareData.title
        }, function(res) {
            WeixinJSBridge.log(res.err_msg)
        });
    });
};
//执行
document.addEventListener('WeixinJSBridgeReady', function() {
    onBridgeReady();
});

function androidQQNewsShare(){
    var fileref=document.createElement('script')//创建标签
    fileref.setAttribute("type","text/javascript")//定义属性type的值为text/javascript
    fileref.setAttribute("src", "http://mat1.gtimg.com/www/js/newsapp/jsapi/news.js?_tsid=1")//文件的地址
}
androidQQNewsShare();

//图片预加载
function loadImg(picArr, callback){
    var index = 0;
    var len = picArr.length;
    function loads(){
        var img = new Image();
        img.src = picArr[index];
        img.onload = function() {
            if (index < len) {
                loads();
                var percent = Math.round(((index+1)/len)*100);
                $('.zidan').css({'width':percent+'%'});
                $('.line_go').find('span').css({'width':percent+'%'});
                $('.percent').find('span').html(percent+'%');

            }else{
                callback&&callback();
            }
            index++;
        }
        return img;
    }

    if(len > 0){
        loads();
    }
}
var pics = [
    'img/9.png',
    'img/8.png',
    'img/7.png',
    'img/6.png',
    'img/5.png',
    'img/4.png',
    'img/3.png',
    'img/2.png',
    'img/1.png',
    'img/0.png',
    'img/b01.png',
    'img/b02.png',
    'img/b03.png',
    'img/b04.png',
    'img/b05.png',
    'img/b06.png',
    'img/b07.png',
    'img/cover_03.png',
    'img/cover_05.png',
    'img/cover_08.png',
    'img/cover_12.png',
    'img/cover_16.png',
    'img/cover_20.png',
    'img/cover_24.png',
    'img/fail_06.png',
    'img/fail_07.png',
    'img/fail_09.png',
    'img/gaming.jpg',
    'img/gaming_01.png',
    'img/gaming_04.png',
    'img/gaming_05.png',
    'img/gaming_06.png',
    'img/gaming_07.png',
    'img/gaming_08.png',
    'img/gaming_09.png',
    'img/line_01.png',
    'img/line_02.png',
    'img/logo_03.png',
    'img/pd_04.png',
    'img/pd_06.png',
    'img/pd_10.png',
    'img/qianyan.jpg',
    'img/qy_03.png',
    'img/qy_after_06.png',
    'img/qy_before_03.png',
    'img/share3.png',
    'img/share6.png',
    'img/success3.png',
    'img/success4.png',
    'img/wfsm.png'
];

var oLoading=$("#loading");
loadImg(pics, function(){
    oLoading.addClass('fadeOut');
    if(oLoading.attr('class')){
        setTimeout(function(){
            oLoading.hide();
            oLoading.removeClass();
            addQy();
        }, 600);
    }
});

var winW=$(window).width(), winH=$(window).height();
$(".preface").on('swipeUp', function(){
    $(".preface").addClass('fadeOut');
    $(".cover").addClass('cover_bg');
    setTimeout(function(){
        $(".preface").removeClass('fadeOut');
        $(".preface").hide();
    }, 600);
    addCover();
});



$(".action").on('tap',function(){
    $(".play_desc").show();
    $(".play_desc").addClass('fadeIn');
    $(".japanship").addClass("GoDownInf");
    $(".chinaship").addClass("GoLeftInf");
    var pd_bgW=$(".pd_bg").offset().width;
    var pd_bgH=scaleImg($(".pd_bg"),624/869);
    $(".pd_bg").css({'width':pd_bgW+'px', 'height':pd_bgH+'px', 'left':(winW-pd_bgW)/2,'top':(winH-pd_bgH)/2});
});


var num=0;
var runBoat=null;
var runBoatT;

if(UA().android){
    runBoatT=900;
}else{
    runBoatT=500;
}

$(".start").on('tap',function(){



    $(".play_desc").removeClass('fadeIn').addClass('fadeOut');
    $(".cover").removeClass('cover_bg').addClass('fadeOut');
    setTimeout(function(){
        $(".play_desc").hide();
        $(".cover").hide();
        $(".play_desc").removeClass('fadeOut');
        $(".cover").removeClass('fadeOut');

        $(".japanship").removeClass("GoDownInf");
        $(".chinaship").removeClass("GoLeftInf");

        removeCover();
        removeQy();
    }, 600);
    createBoat();

    setTimeout(function(){
        $(".tip").addClass('fadeOut');
        setTimeout(function(){
            $(".tip").removeClass('fadeOut');
            $(".tip").hide();
        }, 600);

        timerFn();

    }, 2000);

});


var oBoat=$(".boat"),oBoatW=oBoat.offset().width,oBoatH=oBoat.offset().height,oBoatW2=oBoatW/2,oBoatH2=oBoatH/2,offsetLeft=oBoat.offset().left,offsetTop=oBoat.offset().top,oBoatX=offsetLeft+oBoatW2,oBoatY=offsetTop+oBoatH2,oBoatOtop=offsetTop+oBoatH;

oBoat.on('touchstart',function(ev){
    var oEvent=ev||event;
    var disX=oEvent.targetTouches[0].pageX-offsetLeft;
    function fnMove(ev){
        var oEvent=ev||event;
        offsetLeft=oEvent.targetTouches[0].pageX-disX;

        if(offsetLeft<-20){
            offsetLeft=-20;
        }else if(offsetLeft>winW-oBoatW+25){
            offsetLeft=winW-oBoatW+25;
        }

        oBoat.css({'left':offsetLeft});

        oBoatX=offsetLeft+oBoatW2;
        oBoatY=offsetTop+oBoatH2;


    }
    oBoat.on('touchmove', fnMove);
    function fnEnd(){
        oBoat.off('touchmove', fnMove);
        oBoat.off('touchend', fnEnd);
    }
    oBoat.on('touchend', fnEnd);
});



function createBoat(){
    $(".alljpboat").html('');
    for (var i = 1; i <= 130; i++) {
        if(i%4==0){
            $(".alljpboat").append('<div class="japan b3" style="bottom:'+winH+'px"><img src="img/b01.png" /></div>');
        }else if(i%3==0){
           /* if(i%6==0){
                $(".alljpboat").append('<div class="japan b3" style="bottom:'+winH+'px"><img src="img/b01.png" /></div>');
            }*/
            $(".alljpboat").append('<div class="japan b1" style="bottom:'+winH+'px"><img src="img/b01.png" /></div>');
        }else if(i%5==0){
            $(".alljpboat").append('<div class="japan b2" style="bottom:'+winH+'px"><img src="img/b01.png" /></div>');
        }else{
            if(i%2==0){
                $(".alljpboat").append('<div class="japan b3" style="bottom:'+winH+'px"><img src="img/b01.png" /></div>');
            }
            $(".alljpboat").append('<div class="japan b4" style="bottom:'+winH+'px"><img src="img/b01.png" /></div>');
        }
    }
}


var alljpboat=$(".alljpboat");
var oLine=$(".perimeter");
var lineTop=oLine.offset().top;


var btW,btH,btW2,btH2,btOffetTop,btOffsetLeft,btX,btY,btOtop,shipNum=0,shipDft=0,shipThree=0,shipJs=-1,dfstatu=0,zx=1;

var fail=$('.fail');
var succ=$('.success');
var wxshare=$(".wxshare");
var moveTime=4000;

function moveBoat(num){
    move(alljpboat.find('div')[num], {'bottom':-winH-130},{ming:function(){

        btW=alljpboat.find('div').eq(0).offset().width,btH=alljpboat.find('div').eq(0).offset().height,btW2=btW/2,btH2=btH/2,btOffetTop=alljpboat.find('div').eq(num).offset().top,btOffsetLeft=alljpboat.find('div').eq(num).offset().left,btX=btOffsetLeft+btW2,btY=btOffetTop+btH2,btOtop=btH+btOffetTop;

        if(Math.abs(btX-oBoatX)<(oBoatW2+btW2-30)&&(btOtop-oBoatOtop)<0&&(btOtop-oBoatOtop)>-30){
            console.log('碰了');
            clearInterval(alljpboat.find('div')[num].timer);
            clearInterval(boatTimer);
            boatBomb(alljpboat.find('div').eq(num));
            setTimeout(function(){
                alljpboat.find('div').eq(num).addClass('fadeOutF');
            }, 300);
            moveTime-=25;
            if(moveTime<=1500){
                moveTime=1500;
            }
            boatTotal();

        }

        if((lineTop-btOtop)>-40&&(lineTop-btOtop)<-10){

            if(zx==1){
                console.log('失败');
                clearInterval(LineTimer);
                LineTimer=setInterval(function(){
                    failLine(oLine);
                }, 100);


                clearInterval(runBoat);
                clearInterval(oneMin);
                setTimeout(function(){
                    clearInterval(LineTimer);
                    result();
                },2000);
            }
            zx--;

        }

    }},{duration:moveTime,complete:function(){
        setTimeout(function(){
            dfstatu=1;
        },1000);
    }});
}

function boatTotal(){
    shipNum++;
    console.log("shipNum:"+shipNum);
    if(shipNum<10){
        $(".data_left").find("span").html('<img src="img/'+shipNum+'.png">');
    }else if(shipNum>=10&&shipNum<100){
        if(shipNum%10==0){
            shipDft++;
        }
        $(".data_left").find("span").html('<img src="img/'+shipDft+'.png"><img src="img/'+shipNum%10+'.png">');
    }else if(shipNum>=100){
        if(shipNum%100==0){
            shipThree++;
        }
        if(shipNum%10==0){
            shipJs++;
        }
        $(".data_left").find("span").html('<img src="img/'+shipThree+'.png"><img src="img/'+shipJs+'.png"><img src="img/'+shipNum%10+'.png">');
    }



}

function result(){
    if(shipNum<36){
        fnFail();
        shareData.desc="我成功阻拦"+shipNum+"艘非法船只进入钓鱼岛，告诉他们这是中国领土！";
        $(".fail-word").html("我成功阻拦"+shipNum+"艘非法船只进入钓鱼岛，告诉他们这是中国领土！");
    }else{
        fnSuccess();
        shareData.desc="我成功阻拦"+shipNum+"艘非法船只进入钓鱼岛，请叫我保家卫国好能手！";
        $(".succ-word").html("我成功阻拦"+shipNum+"艘非法船只进入钓鱼岛，请叫我保家卫国好能手！");
    }
}

//船体爆炸
var bombNum=0;
var boatTimer=null;
function boatBomb(obj){
    boatTimer=setInterval(function(){
        bombNum++;
        if(bombNum>7){
            clearInterval(boatTimer);
            bombNum=1;
        }
        obj.find('img').attr('src','img/b0'+bombNum+'.png');
    }, 60);
}


//红黄线交替
var yellowLine=1;
var LineTimer=null;
function failLine(obj){
    yellowLine++;
    if(yellowLine>2){
        yellowLine=1;
    }
    obj.find('img').attr('src','img/line_0'+yellowLine+'.png');
}


//一秒倒计时
var sencend=60;
var miaoOne=5;
var oneMin=null;
function fnoneMin(){
    sencend--;
    $(".data_right").find("span").html('<img src="img/'+miaoOne+'.png"><img src="img/'+sencend%10+'.png">');
    if(sencend%10==0){
        if(miaoOne<=0){
            miaoOne=0;
        }
        miaoOne--;
    }
    if(sencend<=0){
        setTimeout(function(){
            dfstatu=1;
        },1000);

        clearInterval(oneMin);
        clearInterval(runBoat);
        result();
    }
}


fail.find(".replay").on('tap',function(){
    if(dfstatu==1){
        replayFaSu(fail);
        fnReplay();
    }
});

succ.find(".replay").on('tap',function(){
    if(dfstatu==1){
        replayFaSu(succ);
        fnReplay();
    }
});

function replayFaSu(obj){
    obj.removeClass('fadeIn').addClass('fadeOut');
    setTimeout(function(){
        obj.removeClass('fadeOut');
        obj.hide();
    }, 600);
}

function fnReplay(){
    reVar();
    timerFn();
}



function timerFn(){

    oneMin=setInterval(function(){
        fnoneMin();
    }, 1000);
    runBoat=setInterval(function(){
        moveBoat(num);
        num++;

        if(UA().android){
            runBoatT-=3;
            if(runBoatT<=400){
                runBoatT=400;
            }
        }else{
            runBoatT-=5;
            if(runBoatT<=100){
                runBoatT=100;
            }
        }



    }, runBoatT);
}

function reVar(){
    dfstatu=shipThree=shipDft=shipNum=num=bombNum=0;
    moveTime=4000;
    zx=1;
    if(UA().android){
        runBoatT=900;
    }else{
        runBoatT=500;
    }

    sencend=60;
    miaoOne=5;
    shipJs=-1;
    $(".data_left").find("span").html('<img src="img/0.png">');
    $(".data_right").find("span").html('<img src="img/6.png"><img src="img/0.png">');
    $(".perimeter").html('<img src="img/line_02.png" />');
    createBoat();
}

$(".share").on('tap', function(){
    $(".wxshare").addClass('fadeIn');
    $(".wxshare").show();
    setTimeout(function(){
        $(".wxshare").removeClass('fadeIn');
    }, 600);
});


$(".wxshare").on('tap', function(){
    $(".wxshare").addClass('fadeOut');
    setTimeout(function(){
        $(".wxshare").removeClass('fadeOut');
        $(".wxshare").hide();
    }, 600);

});

$(".shareother").on('tap', function(){
    reVar();
    $(".wxshare").addClass('fadeOut');
    $(".cover").show();
    $(".cover").addClass('fadeIn');

    setTimeout(function(){

        $(".wxshare").removeClass('fadeOut');
        $(".wxshare").hide();

        addCover();
        $(".cover").removeClass('fadeIn');

        fail.removeClass('fadeIn');
        succ.removeClass('fadeIn');

        fail.hide();
        succ.hide();

    }, 600);

    return false;
});


function fnSuccess(){
    succ.show();
    succ.addClass('fadeIn');
    var succ_bgW=$(".succ_bg").offset().width;
    var succ_bg=scaleImg($(".succ_bg"),621/869);
    $(".succ_bg").css({'width':succ_bgW+'px', 'height':succ_bg+'px', 'left':(winW-succ_bgW)/2,'top':(winH-succ_bg)/2});
}

function fnFail(){
    fail.show();
    fail.addClass('fadeIn');
    var fail_bgW=$(".fail_bg").offset().width;
    var fail_bg=scaleImg($(".fail_bg"),733/869);
    $(".fail_bg").css({'width':fail_bgW+'px', 'height':fail_bg+'px', 'left':(winW-fail_bgW)/2,'top':(winH-fail_bg)/2});
}



function removeCover(){
    $(".protectdyd").removeClass('fadeInUp_d1');
    $(".mountain").removeClass('fadeInUp_d2');
    $(".sun").removeClass('fadeInUp_d3');
    $(".ship2").removeClass('fadeInUp2_d4');
    $(".ship3").removeClass('fadeInRight_d4');
    $(".ship1").removeClass('fadeInLeft_d4');
    $(".action").removeClass('fadeInUp_d5');
}

function addCover(){
    $(".protectdyd").addClass('fadeInUp_d1');
    $(".mountain").addClass('fadeInUp_d2');
    $(".sun").addClass('fadeInUp_d3');
    $(".ship2").addClass('fadeInUp2_d4');
    $(".ship3").addClass('fadeInRight_d4');
    $(".ship1").addClass('fadeInLeft_d4');
    $(".action").addClass('fadeInUp_d5');
}

function addQy(){
    $(".pf_timeline").addClass('fadeInUp');
    $(".pf_timeline").find('article').find('section').eq(0).addClass('fadeInUp_d1');
    $(".pf_timeline").find('article').find('section').eq(1).addClass('fadeInUp_d2');
    $(".pf_timeline").find('article').find('section').eq(2).addClass('fadeInUp_d3');
    $(".bd_left").addClass('fadeInLeft_d5');
    $(".pf_timeline article:last-child p").addClass('fadeInUp_d4');
    $(".bd_right").addClass('fadeInRight_d5');
    $(".swipe_up").addClass('fadeInUpInf_d6');
}

function removeQy(){
    $(".pf_timeline").removeClass('fadeInUp');
    $(".pf_timeline").find('article').find('section').eq(0).removeClass('fadeInUp_d1');
    $(".pf_timeline").find('article').find('section').eq(1).removeClass('fadeInUp_d2');
    $(".pf_timeline").find('article').find('section').eq(2).removeClass('fadeInUp_d3');
    $(".bd_left").removeClass('fadeInLeft_d5');
    $(".pf_timeline article:last-child p").removeClass('fadeInUp_d4');
    $(".bd_right").removeClass('fadeInRight_d5');
    $(".swipe_up").removeClass('fadeInUpInf_d6');
}




function scaleImg(obj,num){
    var sacle=num;
    var w=obj.offset().width;
    var h=w/num;
    return h;
}

function getStyle(obj,name){
    return (obj.currentStyle || getComputedStyle(obj,false))[name];
}
function move(obj,json,moving,options){
    moving=moving||{};
    options=options || {};
    options.duration=options.duration || 700;
    options.easing=options.easing || 'linear';

    var count=Math.round(options.duration/30);

    var start={};
    var dis={};
    for(var name in json){
        start[name]=parseFloat(getStyle(obj,name));
        dis[name]=json[name]-start[name];
    }
    var n=0;
    clearInterval(obj.timer);
    obj.timer=setInterval(function(){
        n++;
        for(var name in json){
            switch(options.easing){
                case 'linear':
                    var a=n/count;
                    var cur=start[name]+dis[name]*a;
                    break;
                case 'ease-in':
                    var a=n/count;
                    var cur=start[name]+dis[name]*a*a*a;
                    break;
                case 'ease-out':
                    var a=1-n/count;
                    var cur=start[name]+dis[name]*(1-a*a*a);
                    break;
            }
            moving.ming&&moving.ming();
            if(name=='opacity'){
                obj.style.opacity=cur;
                obj.style.filter='alpha(opacity:'+cur*100+')';
            }else{
                obj.style[name]=cur+'px';
            }
        }

        if(n==count){
            clearInterval(obj.timer);
            options.complete && options.complete();
        }
    },30);
}



</script>
<!-- 全站流量统计代码 开始 -->
<!--ol20130819--><!--pgv 20140225v1.0.3 by Austinjin--><script language="javascript"src="http://pingjs.qq.com/ping.js"></script>

<script>
(function(){var _href=location.href,_search=location.search.toLowerCase().replace(/adtag=client\.qq\.\d+_\.0/,'from=tips'),arr=['aio','tips'],type='',from='',_arr=[];if(_href.search(/from=/)!==-1){_arr=_href.split('&');for(var j=0,len=_arr.length;j<len;j++){if(_arr[j].indexOf('qqcom_pgv_from=')>-1){from=_arr[j].indexOf('#')>-1?_arr[j].substring(5,_arr[i].indexOf('#')):_arr[j].substring(5)}}}if(window['ARTICLE_INFO']&&ARTICLE_INFO['catalog_full']){for(var i=0,len=arr.length;i<len;i++){if(_search.search(arr[i])!==-1){type=arr[i];addEvent(document,'click',function(e){_formFun(e,type)})}}newPgvDetail()}else{if(typeof(pgvMain)=='function'){if(typeof(whatCatalog)!='undefined'){pvCSTM=whatCatalog}pgvInfo="F."+from||'def';pgvMain({pgUserType:pgvInfo})}}function newPgvDetail(){var catalogPathR1=ARTICLE_INFO.catalog_full.toString().replace(/-/g,".");var catalogPath=catalogPathR1.toString().replace(/_/g,"-");if(ARTICLE_INFO.topic.name.length>0){var L="L.",Z="Z."+catalogPath+"."+ARTICLE_INFO.topic.name}else{var L="L."+catalogPath,Z="Z."}var W="W."+ARTICLE_INFO.type,M="M."+ARTICLE_INFO.tpl.type+ARTICLE_INFO.tpl.stype,P="P."+ARTICLE_INFO.site.toString().replace(/_/g,"-"),F="F."+from||'def',pgvInfo=L+"_"+Z+"_"+W+"_"+M+"_"+P+"_"+F;if(typeof(pgvMain)=='function'){if(typeof(pgvInfo)!='undefined'){pgvMain({pgUserType:pgvInfo})}}}function addEvent(node,type,listener){if(node.addEventListener){node.addEventListener(type,listener,false);return true}else if(node.attachEvent){node['e'+type+listener]=listener;node[type+listener]=function(){node['e'+type+listener](window.event)};node.attachEvent('on'+type,node[type+listener]);return true}return false}function _formFun(e,t){var e=window.event||e,target=e.srcElement||e.target,tag=target.tagName.toLowerCase(),href=target.href,str='',arr=[];if(tag=='img'){target=target.parentNode;tag=target.tagName.toLowerCase();href=target.href}if(href.indexOf('qqcom_pgv_from=')>-1)return;if(tag=='a'&&target.href.indexOf('qq.com')>-1){if(target.href.indexOf('?')==-1){str=href+'?qqcom_pgv_from='+t}else{arr=href.split('?');str=arr[0]+'?qqcom_pgv_from='+t+'&'+arr[1]}target.href=str}}})()</script><!--pgv 20140225v1.0.3 end-->
<!-- 视频来源ptag --><script src="http://mat1.gtimg.com/v/ptag/ptag_1.1.js" async="true"></script>
<!--[if !IE]>|xGv00|8c1fdc44d118845e49a64996e4f5ea29<![endif]--><!--[if !IE]>|xGv00|1a3a193a0249b0401b1fc3f77d548441<![endif]-->

<!-- 全站流量统计代码 结束 -->
</body>
</html><!--[if !IE]>|xGv00|763066dbb45e4f9fb98c8d105863536c<![endif]-->